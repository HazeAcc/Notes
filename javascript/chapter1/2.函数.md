# JavaScript | 函数 <!-- omit in toc -->

介绍函数的基础语法和类型。

## 目录 <!-- omit in toc -->

- [函数](#函数)
  - [创建函数](#创建函数)
  - [函数声明与函数表达式的区别](#函数声明与函数表达式的区别)
- [函数种类](#函数种类)
  - [回调函数](#回调函数)
  - [匿名函数](#匿名函数)
  - [箭头函数](#箭头函数)

<br>

---

<br>

## 函数

`JavaScript`支持提供的参数个数少于声明时所需的参数个数（类似python），未赋值的参数会以默认值`undefined`代入函数中。

支持设置默认值。

```js
function showMessage(from, text = "no text given") {
  alert( from + ": " + text );
}

showMessage("Haze"); // Haze: no text given
```

### 创建函数

函数是一种特殊的值。

创建函数有两种方法：

1. 函数声明

    ```js
    function sayHi() {
      alert( "Hello" );
    }
    ```

2. 函数表达式

    ```js
    let sayHi = function() {
      alert( "Hello" );
    }; // 注意这里有一个分号，因为它是表达式
    ```

函数省略 return 语句时自动返回 undefined，注意 return 语句必须一行写完（否则会在一行末尾处自动补上分号）。

### 函数声明与函数表达式的区别

- **函数表达式**在执行到达时创建并可用。
- **函数声明**可用于整个脚本/代码块。
- 当一个函数声明在一个代码块内运行时，它在该块内的任何地方都是可见的。
- 函数声明往往作用域更自由，函数表达式则更加定制化，适合实现特殊需求的时候（如根据不同的输入创建不同的函数体）。
- 两者都可以使用的时候**推荐使用函数声明**，因为其组织代码更方便、更容易查找。

## 函数种类

### 回调函数

```js
function ask(question, yes, no) {
  if (confirm(question)) yes()
  else no();
}

function showOk() {
  alert( "You agreed." );
}

function showCancel() {
  alert( "You canceled the execution." );
}

ask("Do you agree?", showOk, showCancel);
```

### 匿名函数

上面的例子可以简写为：

```js
function ask(question, yes, no) {
  if (confirm(question)) yes()
  else no();
}

ask(
  "Do you agree?",
  function() { alert("You agreed."); },
  function() { alert("You canceled the execution."); }
);
```

### 箭头函数

箭头函数是ES6特性。

语法：

```js
let func = (arg1, arg2, ...argN) => expression
```

上面的例子可以简写为：

```js
function ask(question, yes, no) {
  if (confirm(question)) yes()
  else no();
}

ask(
  "Do you agree?",
  () => alert("You agreed."),
  () => alert("You canceled the execution.")
);
```

只有一个参数时括号可以省略。

```js
let double = n => n * 2;
// same as
let _double = function(n) { return n * 2 };
```

两个及以上参数需要括号。

```js
let sum = (a, b) => a + b;
// same as
let _sum = function(a, b) {
  return a + b;
};
```

需要多个表达式或语句时则加上花括号并显式return。

```js
let sum = (a, b) => {
  let result = a + b;
  return result;
};
```

<br>

---

<br>

## 更多内容 <!-- omit in toc -->

点击返回[个人笔记导航😊](../README.md)
